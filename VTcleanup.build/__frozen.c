// This provides the frozen (compiled bytecode) files that are included if
// any.
#include <Python.h>

#include "nuitka/constants_blob.h"

// Blob from which modules are unstreamed.
#define stream_data constant_bin

// These modules should be loaded as bytecode. They may e.g. have to be loadable
// during "Py_Initialize" already, or for irrelevance, they are only included
// in this un-optimized form. These are not compiled by Nuitka, and therefore
// are not accelerated at all, merely bundled with the binary or module, so
// that CPython library can start out finding them.

struct frozen_desc {
    char const *name;
    ssize_t start;
    int size;
};

void copyFrozenModulesTo(struct _frozen *destination) {
    struct frozen_desc frozen_modules[] = {
        {"_collections_abc", 422013, 28736},
        {"_compression", 456245, 4141},
        {"_weakrefset", 589205, 7595},
        {"abc", 596800, 5329},
        {"base64", 1061863, 17066},
        {"bz2", 1118324, 11440},
        {"codecs", 1225907, 33951},
        {"collections", 1266150, -46430},
        {"collections.abc", 422013, 28736},
        {"copyreg", 1401897, 4313},
        {"dis", 1723607, 15797},
        {"encodings", 2535893, -3898},
        {"encodings.aliases", 2539791, 6325},
        {"encodings.ascii", 2546116, 1876},
        {"encodings.base64_codec", 2547992, 2394},
        {"encodings.big5", 2550386, 1404},
        {"encodings.big5hkscs", 2551790, 1414},
        {"encodings.bz2_codec", 2553204, 3285},
        {"encodings.charmap", 2556489, 2886},
        {"encodings.cp037", 2559375, 2417},
        {"encodings.cp1006", 2561792, 2493},
        {"encodings.cp1026", 2564285, 2421},
        {"encodings.cp1125", 2566706, 8124},
        {"encodings.cp1140", 2574830, 2407},
        {"encodings.cp1250", 2577237, 2444},
        {"encodings.cp1251", 2579681, 2441},
        {"encodings.cp1252", 2582122, 2444},
        {"encodings.cp1253", 2584566, 2457},
        {"encodings.cp1254", 2587023, 2446},
        {"encodings.cp1255", 2589469, 2465},
        {"encodings.cp1256", 2591934, 2443},
        {"encodings.cp1257", 2594377, 2451},
        {"encodings.cp1258", 2596828, 2449},
        {"encodings.cp273", 2599277, 2403},
        {"encodings.cp424", 2601680, 2447},
        {"encodings.cp437", 2604127, 7841},
        {"encodings.cp500", 2611968, 2417},
        {"encodings.cp720", 2614385, 2514},
        {"encodings.cp737", 2616899, 8163},
        {"encodings.cp775", 2625062, 7871},
        {"encodings.cp850", 2632933, 7502},
        {"encodings.cp852", 2640435, 7879},
        {"encodings.cp855", 2648314, 8132},
        {"encodings.cp856", 2656446, 2479},
        {"encodings.cp857", 2658925, 7482},
        {"encodings.cp858", 2666407, 7472},
        {"encodings.cp860", 2673879, 7820},
        {"encodings.cp861", 2681699, 7835},
        {"encodings.cp862", 2689534, 8024},
        {"encodings.cp863", 2697558, 7835},
        {"encodings.cp864", 2705393, 7979},
        {"encodings.cp865", 2713372, 7835},
        {"encodings.cp866", 2721207, 8168},
        {"encodings.cp869", 2729375, 7859},
        {"encodings.cp874", 2737234, 2545},
        {"encodings.cp875", 2739779, 2414},
        {"encodings.cp932", 2742193, 1406},
        {"encodings.cp949", 2743599, 1406},
        {"encodings.cp950", 2745005, 1406},
        {"encodings.euc_jis_2004", 2746411, 1420},
        {"encodings.euc_jisx0213", 2747831, 1420},
        {"encodings.euc_jp", 2749251, 1408},
        {"encodings.euc_kr", 2750659, 1408},
        {"encodings.gb18030", 2752067, 1410},
        {"encodings.gb2312", 2753477, 1408},
        {"encodings.gbk", 2754885, 1402},
        {"encodings.hex_codec", 2756287, 2381},
        {"encodings.hp_roman8", 2758668, 2618},
        {"encodings.hz", 2761286, 1400},
        {"encodings.idna", 2762686, 5612},
        {"encodings.iso2022_jp", 2768298, 1421},
        {"encodings.iso2022_jp_1", 2769719, 1425},
        {"encodings.iso2022_jp_2", 2771144, 1425},
        {"encodings.iso2022_jp_2004", 2772569, 1431},
        {"encodings.iso2022_jp_3", 2774000, 1425},
        {"encodings.iso2022_jp_ext", 2775425, 1429},
        {"encodings.iso2022_kr", 2776854, 1421},
        {"encodings.iso8859_1", 2778275, 2416},
        {"encodings.iso8859_10", 2780691, 2421},
        {"encodings.iso8859_11", 2783112, 2515},
        {"encodings.iso8859_13", 2785627, 2424},
        {"encodings.iso8859_14", 2788051, 2442},
        {"encodings.iso8859_15", 2790493, 2421},
        {"encodings.iso8859_16", 2792914, 2423},
        {"encodings.iso8859_2", 2795337, 2416},
        {"encodings.iso8859_3", 2797753, 2423},
        {"encodings.iso8859_4", 2800176, 2416},
        {"encodings.iso8859_5", 2802592, 2417},
        {"encodings.iso8859_6", 2805009, 2461},
        {"encodings.iso8859_7", 2807470, 2424},
        {"encodings.iso8859_8", 2809894, 2455},
        {"encodings.iso8859_9", 2812349, 2416},
        {"encodings.johab", 2814765, 1406},
        {"encodings.koi8_r", 2816171, 2468},
        {"encodings.koi8_t", 2818639, 2379},
        {"encodings.koi8_u", 2821018, 2454},
        {"encodings.kz1048", 2823472, 2431},
        {"encodings.latin_1", 2825903, 1888},
        {"encodings.mac_arabic", 2827791, 7735},
        {"encodings.mac_centeuro", 2835526, 2455},
        {"encodings.mac_croatian", 2837981, 2463},
        {"encodings.mac_cyrillic", 2840444, 2453},
        {"encodings.mac_farsi", 2842897, 2397},
        {"encodings.mac_greek", 2845294, 2437},
        {"encodings.mac_iceland", 2847731, 2456},
        {"encodings.mac_latin2", 2850187, 2597},
        {"encodings.mac_roman", 2852784, 2454},
        {"encodings.mac_romanian", 2855238, 2464},
        {"encodings.mac_turkish", 2857702, 2457},
        {"encodings.mbcs", 2860159, 1706},
        {"encodings.oem", 2861865, 1519},
        {"encodings.palmos", 2863384, 2444},
        {"encodings.ptcp154", 2865828, 2538},
        {"encodings.punycode", 2868366, 6310},
        {"encodings.quopri_codec", 2874676, 2410},
        {"encodings.raw_unicode_escape", 2877086, 1757},
        {"encodings.rot_13", 2878843, 2996},
        {"encodings.shift_jis", 2881839, 1414},
        {"encodings.shift_jis_2004", 2883253, 1424},
        {"encodings.shift_jisx0213", 2884677, 1424},
        {"encodings.tis_620", 2886101, 2506},
        {"encodings.undefined", 2888607, 2090},
        {"encodings.unicode_escape", 2890697, 1737},
        {"encodings.utf_16", 2892434, 4867},
        {"encodings.utf_16_be", 2897301, 1645},
        {"encodings.utf_16_le", 2898946, 1645},
        {"encodings.utf_32", 2900591, 4760},
        {"encodings.utf_32_be", 2905351, 1538},
        {"encodings.utf_32_le", 2906889, 1538},
        {"encodings.utf_7", 2908427, 1566},
        {"encodings.utf_8", 2909993, 1625},
        {"encodings.utf_8_sig", 2911618, 4541},
        {"encodings.uu_codec", 2916159, 3244},
        {"encodings.zlib_codec", 2919403, 3104},
        {"enum", 2922507, 24394},
        {"functools", 3036136, 27896},
        {"genericpath", 3064032, 3996},
        {"heapq", 3125591, 14065},
        {"importlib", 3410253, -3753},
        {"importlib._bootstrap", 3414006, 28600},
        {"importlib._bootstrap_external", 3442606, 43705},
        {"importlib.machinery", 3499879, 957},
        {"inspect", 3537433, 80378},
        {"io", 3617811, 3449},
        {"keyword", 3718259, 993},
        {"linecache", 3954606, 3834},
        {"locale", 3958440, 34684},
        {"ntpath", 4573439, 14652},
        {"opcode", 4601884, 5415},
        {"operator", 4607299, 13686},
        {"os", 107200, 31392},
        {"quopri", 5558752, 5743},
        {"re", 5584598, 14417},
        {"reprlib", 5599015, 5298},
        {"sre_compile", 5788833, 15137},
        {"sre_constants", 5803970, 6354},
        {"sre_parse", 5810324, 21642},
        {"stat", 5876557, 4367},
        {"stringprep", 5921723, 11012},
        {"struct", 5932735, 325},
        {"threading", 188458, 39971},
        {"token", 6333785, 2480},
        {"tokenize", 6336265, 17155},
        {"types", 6540588, 9172},
        {"warnings", 6961863, 13647},
        {NULL, 0, 0}
    };

    struct frozen_desc *current = frozen_modules;

    for(;;) {
        destination->name = (char *)current->name;
        destination->code = (unsigned char *)&constant_bin[ current->start ];
        destination->size = current->size;

        if (destination->name == NULL) break;

        current += 1;
        destination += 1;
    };
}
